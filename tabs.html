<html>

<head>
  <style>
    [role="tablist"] {
      padding: 0;
      margin: 0 1rem -1px;
    }

    [role="tab"] {
      display: inline-block;
      position: relative;
      z-index: 1;
      background: white;
      border-radius: 5px 5px 0 0;
      border: 1px solid grey;
      border-bottom-color: grey;
      border-bottom-style: solid;
      border-bottom-width: 1px;
      border-bottom: 0;
      padding: 0.2em;
    }

    [role="tab"][aria-selected="true"] {
      z-index: 3;
    }

    [role="tabpanel"] {
      position: relative;
      padding: 0 0.5em 0.5em 0.7em;
      border: 1px solid grey;
      border-radius: 0 0 5px 5px;
      background: white;
      z-index: 2;
    }
  </style>


  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const tabLists = document.querySelectorAll('[role="tablist"]');

      tabLists.forEach(tabList => {
        const tabs = tabList.querySelectorAll('[role="tab"]');

        // Add a click event handler to each tab
        tabs.forEach((tab) => {
          tab.addEventListener('click', changeTabs);
        });

        // Enable arrow navigation between tabs in the tab list
        let tabFocus = 0;

        tabList.addEventListener('keydown', (e) => {
          // Move right
          if (e.keyCode === 39 || e.keyCode === 37) {
            tabs[tabFocus].setAttribute('tabindex', -1);
            if (e.keyCode === 39) {
              tabFocus++;
              // If we're at the end, go to the start
              if (tabFocus >= tabs.length) {
                tabFocus = 0;
              }
              // Move left
            } else if (e.keyCode === 37) {
              tabFocus--;
              // If we're at the start, move to the end
              if (tabFocus < 0) {
                tabFocus = tabs.length - 1;
              }
            }

            tabs[tabFocus].setAttribute('tabindex', 0);
            tabs[tabFocus].focus();
            tabs[tabFocus].click();
          }
        });
      });
    });

    function changeTabs(e) {
      const target = e.target;
      const parent = target.parentNode;
      const grandparent = parent.parentNode;

      // Remove all current selected tabs
      parent
        .querySelectorAll('[aria-selected="true"]')
        .forEach((t) => t.setAttribute('aria-selected', false));

      // Set this tab as selected
      target.setAttribute('aria-selected', true);

      const relatedTabs = document.querySelectorAll(`[data-tabname="${target.dataset.tabname}"]`)

      for (let relatedTab of relatedTabs) {
        if (relatedTab === target) continue;
        relatedTab.click();
      }

      // Hide all tab panels
      grandparent
        .querySelectorAll('[role="tabpanel"]')
        .forEach((p) => p.setAttribute('hidden', true));

      // Show the selected panel
      grandparent.parentNode
        .querySelector(`#${target.getAttribute('aria-controls')}`)
        .removeAttribute('hidden');
    }
  </script>

</head>

<body>
  <h1>Install Instructions</h1>
  <div class="tabs">
    <ul role="tablist">
      <li role="tab" data-tabname="macos" aria-selected="true" aria-controls="panel-1" id="tab-1" tabindex="0">
        MacOS
      </li>
      <li role="tab" data-tabname="windows" aria-selected="false" aria-controls="panel-2" id="tab-2" tabindex="-1">
        Windows
      </li>
      <li role="tab" data-tabname="linux" aria-selected="false" aria-controls="panel-3" id="tab-3" tabindex="-1">
        Linux
      </li>
    </ul>
    <div id="panel-1" role="tabpanel" tabindex="0" aria-labelledby="tab-1">
      <p>Content for the first panel</p>
    </div>
    <div id="panel-2" role="tabpanel" tabindex="0" aria-labelledby="tab-2" hidden>
      <p>Content for the second panel</p>
    </div>
    <div id="panel-3" role="tabpanel" tabindex="0" aria-labelledby="tab-3" hidden>
      <p>Content for the third panel</p>
    </div>
  </div>

  <p>Here's a baseline paragraph</p>

  <h1>Other Instructions</h1>

  <div class="tabs">
    <ul role="tablist">
      <li role="tab" data-tabname="macos" aria-selected="true" aria-controls="panel-4" id="tab-4" tabindex="0">
        MacOS
      </li>
      <li role="tab" data-tabname="windows" aria-selected="false" aria-controls="panel-5" id="tab-5" tabindex="-1">
        Windows
      </li>
      <li role="tab" data-tabname="linux" aria-selected="false" aria-controls="panel-6" id="tab-6" tabindex="-1">
        Linux
      </li>
    </ul>
    <div id="panel-4" role="tabpanel" tabindex="0" aria-labelledby="tab-4">
      <p>Content for the fourth panel</p>
    </div>
    <div id="panel-5" role="tabpanel" tabindex="0" aria-labelledby="tab-5" hidden>
      <p>Content for the fifth panel</p>
    </div>
    <div id="panel-6" role="tabpanel" tabindex="0" aria-labelledby="tab-6" hidden>
      <p>Content for the sixth panel</p>
    </div>
  </div>

  <h1>Unrelated tabs</h1>

  <p>Testing 123 Hello, world</p>

  
  <div class="tabs">
    <ul role="tablist">
      <li role="tab" data-tabname="Kiki" aria-selected="true" aria-controls="panel-7" id="tab-7" tabindex="0">
        Kiki
      </li>
      <li role="tab" data-tabname="Budapest" aria-selected="false" aria-controls="panel-8" id="tab-8" tabindex="-1">
        Budapest
      </li>
      <li role="tab" data-tabname="Oranges" aria-selected="false" aria-controls="panel-9" id="tab-9" tabindex="-1">
        Oranges
      </li>
    </ul>
    <div id="panel-7" role="tabpanel" tabindex="0" aria-labelledby="tab-7">
      <p>Content for the seventh panel</p>
    </div>
    <div id="panel-8" role="tabpanel" tabindex="0" aria-labelledby="tab-8" hidden>
      <p>Content for the eighth panel</p>
    </div>
    <div id="panel-9" role="tabpanel" tabindex="0" aria-labelledby="tab-9" hidden>
      <p>Content for the nineth panel</p>
    </div>
  </div>


</body>

</html>