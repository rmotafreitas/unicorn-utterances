---
import Document from '../layouts/document.astro';
import PostListTemplate from '../page-components/post-list/post-list.astro';
import { getAllPostsForListView } from 'utils/api';
import {PostInfo} from 'types/PostInfo';
import SEO from "components/seo/seo.astro";

const posts = await Astro.glob<PostInfo>('../../content/blog/**/*.md')

const postsToDisplay = getAllPostsForListView(posts, 'en').slice(0, 8);
---

<Document>
	<SEO slot="head" title="Homepage" />
	<PostListTemplate posts={postsToDisplay}/>
</Document>