---
import layoutStyles from "./layout.module.scss";
import { Icon } from 'astro-icon';

// const { back } = useHistory();

const rootPath = `/`;

const isBase = Astro.canonicalURL.pathname === rootPath;
const isBlogPost = Astro.canonicalURL.pathname.startsWith(`${rootPath}posts`);
const isCollection = Astro.canonicalURL.pathname.startsWith(`${rootPath}collections`);

---
<div class={layoutStyles.horizCenter}>
    <header class={layoutStyles.header} aria-label={"Toolbar for primary action buttons"}>
        <div class={layoutStyles.headerInsideContainer}>
            {!isBase ? (
            <button class={`${layoutStyles.backBtn} baseBtn`} aria-label="Go back" onclick="history.back()">
                <Icon height="36" width="36" name="back" />
            </button>
            ) : (
            <div />
            )}
            <div class={layoutStyles.iconList}>
                <!-- <AnalyticsLink category={"outbound"} href="https://discord.gg/FMcvc6T" className={"baseBtn"}
                    aria-label={"Join the Discord"}> -->
                    <Icon height="36" width="36" name="discord" />
                <!-- </AnalyticsLink>
                <DarkLightButton /> -->
            </div>
        </div>
    </header>
    <div class={ isCollection ? "" : !isBlogPost ? "listViewContent" : "postViewContent" }>
        <slot />
    </div>
</div>